# musicWord2Vec
Code for the paper 
Chuan, C.-H., Agres, K., and Herremans, D., “From Context to Concept: Exploring Semantic Relationships in Music with Word2Vec,” Neural Computing and Applications, special issue on Deep Learning for Music and Audio, Springer, 32(4), 2020, pp. 1023-1036, DOI: https://doi.org/10.1007/s0052.

This code is distributed under the GNU General Public License v3.0. If you have any questions regarding the code, please email to c.chuan@miami.edu

File build_music_vocab.m
  - This file converts midi files in a folder into sequences of music slices.
  - Example: build_music_vocab('./') with all midi files in the current folder
  - Output file 1: music_slice.txt --> this file is used for building word2vec embedding. Each row is a sequence of music slices from a midi file with a decimal value representing the binary coding of 12 pitch classes in each slice.
  - Output file 2: music_slice_file_list.txt --> this file lists the midi filename from which the music slices are generated.
  - Output file 3: vocab_slice_occurrence.txt --> the number of occurrences for each combination of 12 pitch classes.
  
To run build_music_vocab.m, be sure to have the following Matlab toolboxes:
  - Matlab Communications Toolbox
  - MIDIToolbox, https://github.com/miditoolbox/1.1

If you want to see how music slices are generated for a MIDI file, you can run midi2slice.m.
  - Example: midi2slice('wtc1p01.mid')
  - The midi file of J.S. Bach’s Well-Tempered Clavier, Prelude No. 1 in C Major, BWV 846 is obtained from https://ccrma.stanford.edu/~craig/keyscape/bach-wtc-new/
  
File word2vec_music_pc.py
  - This file builds the word2vec embeddings from the music slices (music_slice.txt) generated by build_music_vocab.m.
  - Please note that this python program was developed with TensorFlow version 1.0. You may have to update the code to run in the later version of TensorFlow.
